# Mock of Pipeline Executor

This repository contains a mock of the program needed to execute pipelines generated by the IHU.

## Installation

- Download the application code:
    ```
    git clone https://github.com/tissadeking/cyclops_pipeline_executor.git
    ```
- Change the current directory to cyclops_ihu.
    ```
    cd cyclops_pipeline_executor

- Build the software as Docker container:
    ```
    sudo docker-compose build
    ```
## Accessing the software
- First, go to the repo cyclops_ihu and follow the steps to start the cyclops_ihu which ensures that the minio container that the pipeline executor would access is up.
- Come back to the pipeline executor root folder and run the software as Docker container:
    ```
    sudo docker-compose up
    ```
- The API is available at http:127.0.0.1:5003/pipeline or any other IP with the same port.

## Testing with put_pipeline.py
- put_pipeline.py is only a replica of the program that sends pipelines to the executor.
- Three examples are given there, those are the tested examples: text_classification, num_classification, and regression. 
- They work with the data in the objects uploaded to the long-term storage at the start of the executor.
- To test any of the three examples, comment the other two.
- Open another terminal instance, cd into the root folder of the project and run:
   ```
    python3 put_pipeline.py

## Shutdown the service
- First stop the containers on the terminal and then run:
   ```
    sudo docker-compose down
